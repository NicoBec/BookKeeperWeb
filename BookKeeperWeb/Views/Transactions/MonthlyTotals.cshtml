@model BookKeeperWeb.Controllers.MonthTotalReport
@{
    ViewBag.Title = "MonthlyTotals";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>MonthlyTotals</h2>

<table style="width:100%" border="1">

    <tr>
        <th>Month</th>
        <th>Income</th>
        <th>Expence</th>
        <th>Total</th>
        <th>Loss/Surplus</th>
    </tr>
    @{
        double? IncomeTotal = 0;
        double? ExpenceTotal = 0;

    }

    @foreach (BookKeeperWeb.Controllers.MonthTotalReportItem Item in Model.Items)
    {
        IncomeTotal += Item.Income;
        ExpenceTotal += Item.Expence;
        <tr>
            <td>@Item.Month</td>
            <td>R @Item.Income.ToString()</td>
            <td>R @Item.Expence.ToString()</td>
            <td>R @Item.Total.ToString()</td>
            <td>@Item.LossGain</td>
        </tr>
    }

    @{
        double? total = IncomeTotal - ExpenceTotal;
        total =  Math.Round(total.GetValueOrDefault(), 2); 
    }
    <tr>
        <td>Total</td>
        <td>R @IncomeTotal</td>
        <td>R @ExpenceTotal</td>
        <td>R @total</td>
        @if (IncomeTotal > ExpenceTotal)
        {
            <td>Surplus</td>
        }
        else
        {
            <td>Loss</td>
        }
    </tr>

</table>
